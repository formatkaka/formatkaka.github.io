---
type Props = {
  texts: string[];
};

const { texts } = Astro.props;
---

<div class="subtitles relative my-5">
  {
    texts.map((text, index) => (
      <span
        class={`subtitles__text subtitles__text--${index + 1} inline-block min-w-0 min-h-[10px] m-0 whitespace-nowrap text-center left-0 top-0 overflow-hidden max-h-[30px] text-xl`}
        id={index === 0 ? 'subtitles__text' : undefined}
      >
        {text}
      </span>
    ))
  }
</div>

<style>
  .subtitles__text--1 {
    animation-name: typewriter-text1, cursor-blink;
    animation-duration: 6s, 0.3s;
    animation-timing-function: steps(20, end);
    animation-iteration-count: 1, infinite;
    animation-direction: normal, alternate;
    animation-fill-mode: both;
    border-right: 2px solid black;
  }

  .subtitles__text--2 {
    animation-name: typewriter-text2, cursor-blink;
    animation-duration: 6.6s, 0.3s;
    animation-timing-function: steps(22);
    animation-iteration-count: 1, infinite;
    animation-direction: normal, alternate;
    animation-fill-mode: both;
    animation-delay: 6.5s, 6.5s;
    opacity: 0;
    border-right: 0px solid black;
  }

  .subtitles__text--3 {
    animation-name: typewriter-text3, cursor-blink;
    animation-duration: 2.25s, 0.3s;
    animation-timing-function: steps(15);
    animation-iteration-count: 1, infinite;
    animation-direction: normal, alternate;
    animation-fill-mode: both;
    animation-delay: 13.6s, 13.6s;
    opacity: 0;
    border-right: 0px solid black;
  }

  @keyframes typewriter-text1 {
    0% {
      width: 0px;
    }
    40% {
      width: 172px;
    }
    50% {
      width: 172px;
    }
    99% {
      border-right: 2px solid black;
    }
    100% {
      width: 0px;
      border-right: 0px solid black;
    }
  }

  @keyframes typewriter-text2 {
    0% {
      width: 0px;
      opacity: 1;
    }
    1% {
      border-right: 2px solid black;
    }
    40% {
      width: 190px;
      opacity: 1;
    }
    50% {
      width: 190px;
      opacity: 1;
    }
    99% {
      border-right: 2px solid black;
    }
    100% {
      width: 0px;
      opacity: 1;
      border-right: 0px solid black;
    }
  }

  @keyframes typewriter-text3 {
    0% {
      width: 0px;
      opacity: 1;
    }
    1% {
      border-right: 2px solid black;
    }
    100% {
      width: 145px;
      opacity: 1;
    }
  }

  @keyframes cursor-blink {
    0% {
      border-color: black;
    }
    50% {
      border-color: transparent;
    }
    100% {
      border-color: black;
    }
  }
</style>
